<div class="container py-3">
    <header>
        <div class="d-flex flex-column flex-md-row align-items-center pb-3 mb-4 border-bottom">
            <div class="d-flex align-items-center link-body-emphasise">
                <i class="bi bi-robot me-2" style="font-size: 2em;"></i> <span class="fs-4">Cobot Digital Twin</span>
            </div>
            <partial name="_LoginPartial" />
        </div>

        <div class="pricing-header pb-4 px-auto text-center">
            <h1 class="display-4 fw-normal text-body-emphasis">Dashboard</h1>
        </div>
    </header>

    <main>
        <div class="row row-cols-1 row-cols-md-1 mb-3 text-center">
            <div class="col">
                <div class="card mb-4 rounded-3 shadow-sm">
                    <div class="card-header py-3">
                        <h4 class="my-0 fw-normal">Cobot Client</h4>
                    </div>
                    <div class="card-body">
                        <h1 id="cobotCommandStatus" class="card-title pricing-card-title mt-3 mb-4">Status</h1>
                        <button type="button" id="cobotStartCommandButton" class="btn btn-outline-danger btn-lg px-4 rounded-pill"
                                data-bs-toggle="modal" data-bs-target="#exampleModal" data-bs-whatever="@@mdo">
                            Start
                        </button>
                        <button type="button" id="cobotStopCommandButton" class="btn btn-outline-danger btn-lg px-4 rounded-pill">Stop</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="row row-cols-1 row-cols-md-2 mb-3 text-center">
            <div class="col">
                <div class="card mb-4 rounded-3 shadow-sm">
                    <div class="card-header py-3">
                        <h4 class="my-0 fw-normal">Azure Digital Twins</h4>

                    </div>
                    <div class="card-body">
                        <h1 id="adt-title" class="card-title pricing-card-title">Status</h1>
                        <div class="mt-3 mb-4">
                            <table class="table table-sm">
                                <thead>
                                    <tr class="align-middle">
                                        <th style="width: 34%;"></th>
                                        <th style="width: 22%;">DTDL Models</th>
                                        <th style="width: 22%;">ADT Twins</th>
                                        <th style="width: 22%;">ADT Relationships</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <th scope="row" class="text-start">Cobot</th>
                                        <td id="adt-cobot-dtdl-model"></td>
                                        <td id="adt-cobot-adt-twin"></td>
                                        <td id="adt-cobot-adt-relationship"></td>
                                    </tr>
                                    <tr>
                                        <th scope="row" class="text-start">Control Box</th>
                                        <td id="adt-control-box-dtdl-model"></td>
                                        <td id="adt-control-box-adt-twin"></td>
                                        <td id="adt-control-box-adt-relationship"></td>
                                    </tr>
                                    <tr>
                                        <th scope="row" class="text-start">Joint Load</th>
                                        <td id="adt-joint-load-dtdl-model"></td>
                                        <td id="adt-joint-load-adt-twin"></td>
                                        <td id="adt-joint-load-adt-relationship"></td>
                                    </tr>
                                    <tr>
                                        <th scope="row" class="text-start">Payload</th>
                                        <td id="adt-payload-dtdl-model"></td>
                                        <td id="adt-payload-adt-twin"></td>
                                        <td id="adt-payload-adt-relationship"></td>
                                    </tr>
                                    <tr>
                                        <th scope="row" class="text-start">Base</th>
                                        <td id="adt-base-dtdl-model"></td>
                                        <td id="adt-base-adt-twin"></td>
                                        <td id="adt-base-adt-relationship"></td>
                                    </tr>
                                    <tr>
                                        <th scope="row" class="text-start">Shoulder</th>
                                        <td id="adt-shoulder-dtdl-model"></td>
                                        <td id="adt-shoulder-adt-twin"></td>
                                        <td id="adt-shoulder-adt-relationship"></td>
                                    </tr>
                                    <tr>
                                        <th scope="row" class="text-start">Elbow</th>
                                        <td id="adt-elbow-dtdl-model"></td>
                                        <td id="adt-elbow-adt-twin"></td>
                                        <td id="adt-elbow-adt-relationship"></td>
                                    </tr>
                                    <tr>
                                        <th scope="row" class="text-start">Wrist1</th>
                                        <td id="adt-wrist1-dtdl-model"></td>
                                        <td id="adt-wrist1-adt-twin"></td>
                                        <td id="adt-wrist1-adt-relationship"></td>
                                    </tr>
                                    <tr>
                                        <th scope="row" class="text-start">Wrist2</th>
                                        <td id="adt-wrist2-dtdl-model"></td>
                                        <td id="adt-wrist2-adt-twin"></td>
                                        <td id="adt-wrist2-adt-relationship"></td>
                                    </tr>
                                    <tr>
                                        <th scope="row" class="text-start">Wrist3</th>
                                        <td id="adt-wrist3-dtdl-model"></td>
                                        <td id="adt-wrist3-adt-twin"></td>
                                        <td id="adt-wrist3-adt-relationship"></td>
                                    </tr>
                                    <tr>
                                        <th scope="row" class="text-start">Tool</th>
                                        <td id="adt-tool-dtdl-model"></td>
                                        <td id="adt-tool-adt-twin"></td>
                                        <td id="adt-tool-adt-relationship"></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <input type="button" id="adtSyncButton" class="w-100 btn btn-outline-danger btn-lg px-4 rounded-pill" value="Sync" />
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card mb-4 rounded-3 shadow-sm">
                    <div class="card-header py-3">
                        <h4 class="my-0 fw-normal">Azure IoT</h4>
                    </div>
                    <div class="card-body">
                        <h1 id="iot-title" class="card-title pricing-card-title">Status</h1>
                        <div class="mt-3 mb-4 pt-4">
                            <table class="table table-sm">
                                <thead>
                                    <tr>
                                        <th style="width: 34%;"></th>
                                        <th style="width: 22%;">Status</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <th scope="row" class="text-start">Cobot</th>
                                        <td id="iot-cobot"></td>

                                    </tr>
                                    <tr>
                                        <th scope="row" class="text-start">Control Box</th>
                                        <td id="iot-control-box"></td>
                                    </tr>
                                    <tr>
                                        <th scope="row" class="text-start">Payload</th>
                                        <td id="iot-payload"></td>
                                    </tr>
                                    <tr>
                                        <th scope="row" class="text-start">Base</th>
                                        <td id="iot-base"></td>
                                    </tr>
                                    <tr>
                                        <th scope="row" class="text-start">Shoulder</th>
                                        <td id="iot-shoulder"></td>
                                    </tr>
                                    <tr>
                                        <th scope="row" class="text-start">Elbow</th>
                                        <td id="iot-elbow"></td>
                                    </tr>
                                    <tr>
                                        <th scope="row" class="text-start">Wrist1</th>
                                        <td id="iot-wrist1"></td>
                                    </tr>
                                    <tr>
                                        <th scope="row" class="text-start">Wrist2</th>
                                        <td id="iot-wrist2"></td>
                                    </tr>
                                    <tr>
                                        <th scope="row" class="text-start">Wrist3</th>
                                        <td id="iot-wrist3"></td>
                                    </tr>
                                    <tr>
                                        <th scope="row" class="text-start">Tool</th>
                                        <td id="iot-tool"></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="pt-2">
                            <button type="button" id="iotStartSyncButton" class="btn btn-outline-danger btn-lg px-4 rounded-pill mt-4">Start</button>
                            <button type="button" id="iotStopSyncButton" class="btn btn-outline-danger btn-lg px-4 rounded-pill mt-4">Stop</button>
                        </div>

                    </div>
                </div>
            </div>

        </div>
        <div class="row row-cols-1 row-cols-md-1 mb-3 text-center">
            <div class="col">
                <div class="card mb-4 rounded-3 shadow-sm">
                    <div class="card-header py-3">
                        <h4 class="my-0 fw-normal">Azure Digital Twins Instances</h4>

                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table table-sm text-center">
                                <thead>
                                    <tr>
                                        <th style="width: 34%;"></th>
                                        <th style="width: 34%;">Twin Instance 1</th>
                                        <th style="width: 34%;">Twin Instance 2</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <th scope="row" colspan="3" class="text-start">Cobot</th>
                                    </tr>
                                    <tr>
                                        <th scope="row" class="text-start fst-italic">Elapsed Time</th>
                                        <td class="fw-semibold">2305.5632</td>
                                        <td class="fw-semibold">2305.5632</td>
                                    </tr>
                                </tbody>
                                <tbody>
                                    <tr>
                                        <th scope="row" colspan="3" class="text-start">Control Box</th>
                                    </tr>
                                    <tr>
                                        <th scope="row" class="text-start fst-italic">Temperature</th>
                                        <td class="fw-semibold">24.5</td>
                                        <td class="fw-semibold">22.5</td>
                                    </tr>
                                </tbody>

                               
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="pt-4 my-md-5 pt-md-5 border-top">
        <div class="row">
            <div class="col-2 text-center">
                <img class="mb-1" src="/img/uod-logo.jpg" alt="uod-logo" width="128">
                <small class="d-block mb-3 text-body-secondary">100638182 © 2023</small>
            </div>
            <div class="col-3">
                <h5>Features</h5>
                <ul class="list-unstyled text-small">
                    <li class="mb-1"><a class="link-secondary text-decoration-none" href="#">Graph Model</a></li>
                    <li class="mb-1"><a class="link-secondary text-decoration-none" href="#">3D Scenes</a></li>
                    <li class="mb-1"><a class="link-secondary text-decoration-none" href="#">Telemetry Data</a></li>
                </ul>
            </div>
            <div class="col-3">
                <h5>About</h5>
                <ul class="list-unstyled text-small">
                    <li class="mb-1"><a class="link-secondary text-decoration-none" href="https://www.linkedin.com/in/maqbool-hussain-25aa1634/">Dr. Maqbool Hussain</a></li>
                    <li class="mb-1"><a class="link-secondary text-decoration-none" href="https://www.linkedin.com/in/wajahatalikhan12/">Dr. Wajahat Ali Khan</a></li>
                    <li class="mb-1"><a class="link-secondary text-decoration-none" href="https://www.addqual.com/">Ben Anderson</a></li>
                    <li class="mb-1"><a class="link-secondary text-decoration-none" href="https://www.linkedin.com/in/gayankuruppu/">100638182</a></li>

                </ul>
            </div>
            <div class="col-4">
                <h5>GitHub Repository</h5>
                <ul class="list-unstyled text-small">
                    <li class="mb-1"><a class="link-secondary text-decoration-none" href="#">100638182-Cobot-Adt-Initialize-Function-App</a></li>
                    <li class="mb-1"><a class="link-secondary text-decoration-none" href="#">100638182-Cobot-Adt-Ingestion-Function-App</a></li>
                    <li class="mb-1"><a class="link-secondary text-decoration-none" href="#">100638182-Cobot-Iot-Ingestion-Function-App</a></li>
                    <li class="mb-1"><a class="link-secondary text-decoration-none" href="#">100638182-Cobot-Client-App</a></li>
                    <li class="mb-1"><a class="link-secondary text-decoration-none" href="#">100638182-Cobot-Web-App</a></li>
                </ul>
            </div>

        </div>
    </footer>
</div>
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="exampleModalLabel">New payload</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form>
                    <div class="mb-3">
                        <label for="payloadText" class="col-form-label">Payload:</label>
                        <textarea class="form-control" id="payloadText">[[-0.12,-0.43,0.14,0,3.11,0.14],[-0.22,-0.71,0.21,0,3.11,0.24],[-0.82,-0.81,0.31,0,3.21,0.34],[-0.62,-0.91,0.41,0,3.31,0.54]]</textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" id="cobotSendPayloadButton">Send payload</button>
            </div>
        </div>
    </div>
</div>
@section CSS{
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <style>
        .bi {
            vertical-align: -.125em;
            fill: currentColor;
        }
    </style>
    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
        <symbol id="arrow-right-short" viewBox="0 0 16 16">
            <path fill-rule="evenodd" d="M4 8a.5.5 0 0 1 .5-.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5A.5.5 0 0 1 4 8z" />
        </symbol>
        <symbol id="x-lg" viewBox="0 0 16 16">
            <path fill-rule="evenodd" d="M13.854 2.146a.5.5 0 0 1 0 .708l-11 11a.5.5 0 0 1-.708-.708l11-11a.5.5 0 0 1 .708 0Z" />
            <path fill-rule="evenodd" d="M2.146 2.146a.5.5 0 0 0 0 .708l11 11a.5.5 0 0 0 .708-.708l-11-11a.5.5 0 0 0-.708 0Z" />
        </symbol>
    </svg>
}
@section Scripts{
    <script src="~/js/signalr/dist/browser/signalr.js"></script>
    <script src="~/js/adt-model-hub.js"></script>
    <script src="~/js/iot-model-hub.js"></script>
    <script src="~/js/iot-command-hub.js"></script>
}